function randNum(e,a,n){var t=Math.floor(Math.random()*a)+e;return(n||"undefined"==typeof n)&&(t*=1==Math.floor(2*Math.random())?1:-1),t}function pointInCircle(e,a,n){var t=(e.x-a.x)*(e.x-a.x)+(e.y-a.y)*(e.y-a.y)+(e.z-a.z)*(e.z-a.z);return[n*n*n>=t,t]}function creator(e){switch(e){case"gras":createRandomObject(700,e,plantRadius);break;case"flower_1":createRandomObject(200,e,plantRadius);break;case"flower_2":createRandomObject(200,e,plantRadius);break;default:createRandomObject(5,e,plantRadius)}}function calculatePointInCircle(e){return x=2*Math.random()*e-e,zlim=Math.sqrt(e*e-x*x),z=2*Math.random()*zlim-zlim,[x,z]}function createRandomObject(e,a,n){for(var t=new THREE.Object3D,r=0;e>r;r++){var o=calculatePointInCircle(n);t.children[r]=models[a].clone(),t.children[r].position.x=o[0],t.children[r].position.z=o[1],t.children[r].rotation.y=randNum(0,360,!0)*Math.PI/180;var i=randNum(.92,1,!1);t.children[r].scale.set(i,i,i)}return scene.add(t),t}function animation(){cam_helper.rotation.y+=5e-4}var main_color=2192586,canvas_height=window.innerHeight,canvas_width=window.innerWidth,scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(55,canvas_width/canvas_height,.1,1e3);camera.position.set(-10,2,22),camera.lookAt(new THREE.Vector3(0,50,0)),scene.add(camera);var helperGeo=new THREE.BoxGeometry(1,1,1),cam_helper=new THREE.Mesh(helperGeo,new THREE.MeshBasicMaterial({}));cam_helper.visible=!1,scene.add(cam_helper),cam_helper.add(camera);var renderer=new THREE.WebGLRenderer({alpha:!0,transparent:!0});renderer.setSize(canvas_width,canvas_height),renderer.shadowMap.enabled=!0,renderer.shadowMap.type=THREE.PCFSoftShadowMap,document.body.appendChild(renderer.domElement),window.onresize=function(){canvas_height=window.innerHeight,canvas_width=window.innerWidth,camera.aspect=canvas_width/canvas_height,camera.updateProjectionMatrix(),renderer.setSize(canvas_width,canvas_height)},controls=new THREE.OrbitControls(camera),controls.damping=.2,controls.minPolarAngle=73*Math.PI/180,controls.maxPolarAngle=85*Math.PI/180,controls.minDistance=15,controls.maxDistance=25;var ambient=new THREE.AmbientLight(11184810,1);scene.add(ambient);var spotLight=new THREE.SpotLight(16777215);spotLight.position.set(0,500,100),spotLight.intensity=2,spotLight.castShadow=!0,scene.add(spotLight);var loader=new THREE.JSONLoader,texLoader=new THREE.TextureLoader,plants=["plant_1","plant_2","plant_3","plant_4","plant_5","plant_6","plant_7","plant_8","gras","dandelion","flower_1","flower_2"],models={};texLoader.load("assets/tex/map.png",function(e){function a(e,a,t){var r=e,a=a;loader.load(t,function(e){var t=new THREE.Mesh(e,n);models[a]=t,models[a].id=r,creator(a)})}var n=new THREE.MeshPhongMaterial({color:new THREE.Color(16777215),side:THREE.DoubleSide,shininess:0,map:e,bumpMap:e,bumpScale:-.05,transparent:!0,depthTest:!0,depthWrite:!0,alphaTest:.25});plants.forEach(function(e,n){a(n,e,"assets/json/"+e+".json")})});var plantRadius=20,planeMat=new THREE.MeshPhongMaterial({color:4542505,specular:0,shininess:0,side:THREE.DoubleSide}),radius=22,segments=32,circleGeometry=new THREE.RingGeometry(0,radius,segments,segments,0,2*Math.PI),ground=new THREE.Mesh(circleGeometry,planeMat);ground.rotation.x=90*Math.PI/180,scene.add(ground);var boundMat=new THREE.MeshPhongMaterial({color:1118481,specular:0,shininess:0,side:THREE.DoubleSide,shading:THREE.FlatShading}),boundGeometry=new THREE.TorusGeometry(21.5,1,6,180),bound=new THREE.Mesh(boundGeometry,boundMat);bound.rotation.x=90*Math.PI/180,scene.add(bound);var render=function(){animation(),controls.update(),renderer.render(scene,camera),requestAnimationFrame(render)};render();
//# sourceMappingURL=./main_script.min.js.map